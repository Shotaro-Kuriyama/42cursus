# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: skuriyam <skuriyam@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/12/31 18:21:37 by skuriyam          #+#    #+#              #
#    Updated: 2025/12/31 18:51:43 by skuriyam         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# ⚠️超重要：Makefile の「コマンド行」は 
# **Tab（タブ）**でインデントしてください。スペースだと動かないことがあります。

# ===== 1) 生成する実行ファイル名 =====
NAME := demo

# ===== 2) コンパイラとオプション =====
CC      := cc
CFLAGS  := -Wall -Wextra -Werror

# ===== 3) 使うソースファイル =====
SRC_FILES := dclist.c main.c

# ===== 4) .c → .o に変換した「オブジェクトファイル」一覧 =====
OBJ_FILES := $(SRC_FILES:.c=.o)

# ===== 5) デフォルトで実行されるターゲット =====
all: $(NAME)

# ===== 6) リンク（.o をまとめて実行ファイルを作る） =====
$(NAME): $(OBJ_FILES)
	$(CC) $(CFLAGS) $(OBJ_FILES) -o $(NAME)

# ===== 7) コンパイル（.c → .o を作る） =====
# dclist.h が変わったら .o を作り直してほしいので依存に入れる
%.o: %.c dclist.h
	$(CC) $(CFLAGS) -c $< -o $@

# ===== 8) 掃除 =====
clean:
	rm -f $(OBJ_FILES)

fclean: clean
	rm -f $(NAME)

re: fclean all

# ===== 9) 「同名ファイルがあってもターゲットとして実行する」宣言 =====
.PHONY: all clean fclean re
